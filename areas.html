<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
  html { height: 100% }
  body { height: 100%; margin: 0; padding: 0 }
  #map_canvas { height: 100% }

  table {
    width: 100%;
    height: 100%;
  }

  td {
    height: 100%;
  }

  iframe {
    width: 100%;
    height: 100%;
  }
</style>
<script type="text/javascript">
  function initialize() {
  }

  areas = [];
  function selectArea(id) {
    if (document.getElementById(id).checked) {
      areas.push(id);
    } else {
      for (i = 0; i < areas.length; i++) {
        if (areas[i] == id) {
          areas.splice(i, i + 1);
        }
      }
    }
    url = "/map?a=" + areas.join(",");
    document.getElementById('map').src = url;
  }
</script>
</head>
<body onload="initialize()">
  <table>
    <tbody>
      <tr>
        <td width="200px">
          <div class="choices" id="choices">
            {% for area in areas %}
            <div class="input">
              <input id="{{ area.id }}" type="checkbox" onclick="selectArea({{ area.id }});">{{ area.description }}</input>
            </div>
            {% endfor %}
          </div>
        </td>
        <td>
          <iframe id="map" src="/map"></iframe>
        </td>
      </tr>
    </tbody>
  </table>
</body>
</html>
